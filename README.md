# Mozaic
ТЗ проекта. Сделать обработчик изображений создающий новое обработанное изображение с картой расстановки алмазной мозаики выбранного размера холста, с выбранной палитрой, выбранным участком загруженного изображения.

Алмазная мозаика (алмазная вышивка, алмазная живопись, рисование стразами) — техника рукоделия, при которой на холст с клеевой основой по схеме выкладываются маленькие сверкающие стразы. В результате получается картина, напоминающая вышивку крестом, но обладающая эффектом объёма, переливов света и фактурной глубины.

Чем-то напоминает эффект пикселизации. 

Было перепробовано несколько алгоритмов: подбирался цвет стразы в соответствии с ближайшим среднем цветом квадрата по яркости, также был алгоритм, который подбирал ближайший по контрастности, выбиралась адаптивная яркость по определённым секторам, но, в итоге лучший результат, максимально напоминающий оригинал и при этом использующий наибольшее число цветов выбранной палитры был тот алгоритм, который попросту распределял число используемых страз в одинаковом количестве и подбирал лучшее их расположения по яркости среднего цвета. Что означает средний цвет? Средний цвет на определнном квадрате, ведь разрешение загружаемого изображения может быть разным, так и разной может быть рабочая область и тут 1px не равен 1 алмазной мозаике, а чаще всего сразу 10-50 пикселей соответсвуют одной алмазной мозаике, поэтому приходится находить среднюю яркость или контрастность для целого квадрата пикселей.

Для примера возьмём начальное изображение: 

![Загружаемое изображение](https://raw.githubusercontent.com/Lumerc/Mozaic/main/img/motty.jpg)

Теперь выбираем участок, который будет задействован на холсте

![Выбираем рабочий участок](https://raw.githubusercontent.com/Lumerc/Mozaic/main/img/select.png)

Выбираем одну из палитр DMC поп-арт, оригинальную или винтаж:

![Палитра поп-арт](https://raw.githubusercontent.com/Lumerc/Mozaic/main/img/popart.png)
![Палитра оригинальная](https://raw.githubusercontent.com/Lumerc/Mozaic/main/img/original.png)
![Палитра винтаж](https://raw.githubusercontent.com/Lumerc/Mozaic/main/img/vintage.png)
